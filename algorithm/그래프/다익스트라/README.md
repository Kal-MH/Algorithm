# 개념

최단거리란, 그래프의 시작점에서 다른 지점까지의 가장 짧은 거리를 말한다.

![최단경로](https://user-images.githubusercontent.com/59648372/158754431-9ac04b35-eae4-41af-89f5-a70b6c8d020d.png)

## BFS

- 간선의 가중치 : 모두 1
- 시작점 : 한 정점
- 도착점 : 모든 정점
- 시간복잡도 : O(V + E)

탐색이란, 시작점에서 간선을 0개 이상 사용해서 갈 수 있는 정점들을 알아보는 것이다. BFS는 다른 정점까지 최소 이동 횟수를 계산할 수 있었다.

## 다익스트라 (Dijkstra)

```java
Input
- Graph G(V, E) : Nonnegative-Weighted Graph
- Start Vertex S  / Vertices {S1, ...}
    - 다익스트라도 Multisource BFS처럼 여러 개의 시작점이 가능하다.

Output
- 시작점에서 모든 점까지의 최단 거리

시간 복잡도
- O(ElogV)

간선의 가중치는 ≥ 0이 된다.
```

다익스트라를 구성하는데 필요한 정보는 다음과 같다.

- dist[i] = 시작점에서 i번 정점까지 가능한 최단 거리
- 자료구조 D = {(v, d) | 시작점에서 v까지 d만에 갈 수 있음을 확인했다}
    - ex) (1, 21) = 시작점에서 1까지 21까지 가는 거리를 확인했다.

### 다익스트라 순서

1. dist배열 초기화 및 (S, 0)을 D에 저장.
2. D에서 가장 작은 d를 갖는 자료 (v, d)를 뽑는다.
3. 가치 판단한다.
    1. dist[v] < d ?
4. v, d를 통해 새로운 정보를 D에 추가

### 다익스트라 시간복잡도

![시간복잡도](https://user-images.githubusercontent.com/59648372/158754434-e6e479f8-1653-446d-8922-3ce96e00dba3.png)

다익스트라에서 시간복잡도에 영향을 주는 것에는 2가지 연산이 있다.

- 자료구조 D에서 추출하는 연산
- 자료구조 D에 추가하는 연산
1. 각각의 연산은 최대 몇 번 수행되는가.
    1. 추출하는 횟수 ≤ 추가하는 횟수
        1. 추가한 것보다 더 많이 추출할 수는 없다.
    2. 다익스트라의 경우, 인접리스트로 구현하며 인접한 간선을 탐색.
        1. N = deg(1) + deg(2) + ... + deg(n) = **E**
        2. 각각의 차수를 모두 더한 값은 간선의 개수와 같으므로 모든 간선에 대해서 추가, 추출이 된다고 할 때, 최대 E번 연산이 수행된다.
2. 추출, 추가하는 연산 시간
    1. 자료구조에 따라서 달라질 것이다.
    
    ```java
    1차원 배열
    - 추출 : O(N)
    - 추가 : O(1)
    - 추출 + 추가 : O(N)
    
    Min Heap / Priority Queue
    - 추출 : O(logE)
    - 추가 : O(logE)
    - 추출 + 추가 : O(logE)
    ```
    
3. 시간복잡도 계산
    1. Min Heap / Priority Queue를 사용한다면, 
        1. O(ElogE) ⇒ O(ElogV)
            1. 완전 그래프 : 어떤 두 정점을 골라도 갈 수 있는 간선들이 존재.
            2. E ≤ V^2
            3. O(ElogE) = O(2ElogV) = O(ElogV)

## 다익스트라는 음수 간선이 있으면 안된다.

1. 음수 사이클의 경우, 음의 무한대로 연산이 계속 반복된다.
  - 가중치가 계속 갱신되어 자료구조에 추가되기 때문.
[다익스트라 음수 간선](https://hy38.github.io/why-dijkstra-fail-on-a-negative-weighted-edge)

[출처 - fastCampus 코딩 테스트 : 류호석]


